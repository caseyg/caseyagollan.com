---
pagination:
  data: collections.postsByYearMonthDay
  size: 1
  alias: yearMonthDay
layout: posts-base
permalink: /{{ yearMonthDay[0] }}/
---

{% set dayPosts = yearMonthDay[1] %}
{% set noteCount = dayPosts | selectattr("inputPath", "containing", "/notes/") | list | length %}
{% set bookmarkCount = dayPosts | selectattr("inputPath", "containing", "/bookmarks/") | list | length %}
{% set year = yearMonthDay[0] | getYear %}
{% set month = yearMonthDay[0] | getMonth %}
{% set day = yearMonthDay[0] | getDay %}
{% set otherCount = dayPosts | length - noteCount - bookmarkCount %}
{% set totalCount = dayPosts | length %}

<div style="margin-bottom: 3vw;">
  <nav aria-label="Archive navigation" style="margin-bottom: 1vw;">
    <div class="meta-pill">
      <a href="/{{ year }}/{{ month }}/" class="meta-segment">‚Üê {{ month | monthName }} {{ year }}</a>
      <a href="/{{ year }}/" class="meta-segment">{{ year }}</a>
      <a href="/" class="meta-segment">Home</a>
    </div>
  </nav>

  <p class="post-count" style="display: inline-flex; gap: 0.5em; flex-wrap: wrap;">
    {% if otherCount > 0 %}<span class="pill">{{ otherCount }} post{{ "s" if otherCount != 1 }}</span>{% endif %}
    {% if noteCount > 0 %}<a href="/notes/" class="pill">{{ noteCount }} note{{ "s" if noteCount != 1 }}</a>{% endif %}
    {% if bookmarkCount > 0 %}<a href="/bookmarks/" class="pill">{{ bookmarkCount }} bookmark{{ "s" if bookmarkCount != 1 }}</a>{% endif %}
  </p>
</div>

<div class="posts-list h-feed">
  <h2 class="date-header">
    <div class="meta-pill">
      <a href="/{{ year }}/" class="meta-segment">{{ year }}</a>
      <a href="/{{ year }}/{{ month }}/" class="meta-segment">{{ month }}</a>
      <a href="/{{ year }}/{{ month }}/{{ day }}/" class="meta-segment">{{ day }}</a>
    </div>
  </h2>
  {% for post in dayPosts | reverse %}
    {% include "post-display.njk" %}
  {% endfor %}
</div>