---
layout: posts-base
title: All Posts
permalink: /posts/
---

<h1>All Posts</h1>

<div class="posts-list">
  {% for year, months in collections.postsByMonth | dictsort | reverse %}
    <h2>{{ year }}</h2>
    {% for month, posts in months | dictsort | reverse %}
      <h3>{{ month | toMonth }}</h3>
      {% for post in posts | reverse %}
        {# Determine post type based on microformat properties #}
        {% set postType = "note" %}
        
        {% if post.data.bookmarkOf or post.data['bookmark-of'] %}
          {% set postType = "bookmark" %}
        {% elif post.data['in-reply-to'] and post.data.rsvp %}
          {% set postType = "rsvp" %}
        {% elif post.data['in-reply-to'] %}
          {% set postType = "reply" %}
        {% elif post.data['repost-of'] %}
          {% set postType = "repost" %}
        {% elif post.data['like-of'] %}
          {% set postType = "like" %}
        {% elif post.data['jam-of'] %}
          {% set postType = "jam" %}
        {% elif post.data.photo %}
          {% set postType = "photo" %}
        {% elif post.data.audio %}
          {% set postType = "audio" %}
        {% elif post.data.video %}
          {% set postType = "video" %}
        {% elif post.data.start %}
          {% set postType = "event" %}
        {% elif post.data.name and post.templateContent %}
          {% set postType = "article" %}
        {% endif %}
        
        <article class="h-entry post-type-{{ postType }}">
          <time class="dt-published" datetime="{{ post.date | date('iso') }}">
            <a href="{{ post.url }}">{{ post.date | date }}</a>
          </time>
          
          {# Display appropriate content based on post type #}
          {% if postType == "bookmark" %}
            <div class="bookmark-content">
              <p class="bookmark-link">
                üîñ Bookmarked: <a href="{{ post.data.bookmarkOf or post.data['bookmark-of'] }}" class="u-bookmark-of">{{ post.data.title or post.data.bookmarkOf or post.data['bookmark-of'] }}</a>
              </p>
              {% if post.templateContent %}
                <div class="e-content">{{ post.templateContent | safe }}</div>
              {% endif %}
            </div>
          {% elif postType == "reply" %}
            <div class="reply-content">
              <p class="reply-context">
                ‚Ü©Ô∏è In reply to: <a href="{{ post.data['in-reply-to'] }}" class="u-in-reply-to">{{ post.data['in-reply-to'] }}</a>
              </p>
              <div class="e-content">{{ post.templateContent | safe }}</div>
            </div>
          {% elif postType == "repost" %}
            <div class="repost-content">
              <p class="repost-context">
                üîÅ Reposted: <a href="{{ post.data['repost-of'] }}" class="u-repost-of">{{ post.data['repost-of'] }}</a>
              </p>
              {% if post.templateContent %}
                <div class="e-content">{{ post.templateContent | safe }}</div>
              {% endif %}
            </div>
          {% elif postType == "like" %}
            <div class="like-content">
              <p class="like-context">
                ‚ù§Ô∏è Liked: <a href="{{ post.data['like-of'] }}" class="u-like-of">{{ post.data['like-of'] }}</a>
              </p>
              {% if post.templateContent %}
                <div class="e-content">{{ post.templateContent | safe }}</div>
              {% endif %}
            </div>
          {% elif postType == "article" %}
            <h4 class="p-name"><a href="{{ post.url }}">{{ post.data.name }}</a></h4>
            {% if post.data.summary %}
              <div class="p-summary">{{ post.data.summary | markdownify | safe }}</div>
            {% else %}
              <div class="e-content">{{ post.templateContent | truncate(200) | safe }}</div>
            {% endif %}
          {% else %}
            <div class="e-content">{{ post.templateContent | safe }}</div>
          {% endif %}
          
          {% if post.data.syndication %}
            <p class="syndication">
              Also posted on: 
              {% for link in post.data.syndication %}
                <a href="{{ link }}" class="u-syndication">
                  {%- if "social.coop" in link -%}
                    Mastodon
                  {%- elif "bsky.app" in link -%}
                    Bluesky
                  {%- else -%}
                    {{ link | replace("https://", "") }}
                  {%- endif -%}
                </a>{% if not loop.last %}, {% endif %}
              {% endfor %}
            </p>
          {% endif %}
        </article>
      {% endfor %}
    {% endfor %}
  {% endfor %}
</div>